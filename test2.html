<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

</head>
<body>

<div class="container">
  <h2>Modal Events - shown.bs.modal</h2>
  <!-- Trigger the modal with a button -->
  <button type="button" class="btn btn-info btn-lg" id="myBtn">Open Modal</button>

  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Modal Header</h4>
        </div>
        <div class="modal-body">
          <div id="imageShow"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
      <!-- Start Display Result -->
      <div id="resultDisplay"></div>

    </div>
  </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
$(document).ready(function(){
    $("#myBtn").click(function(){
        $("#myModal").modal("show");
        $("#myModal").on('shown.bs.modal', function () {
            $.ajax({
                'url':'getServer.php',
                'type':'GET',
                'dataType':'json',
                'cache':'false'
            }).done(function(data){
//                var id = data.id;
//                var username = data.username;
//                var photo = data.photo;
//                // if the data is array
//                var idArray = [];
//                var usernameArray = [];
//                var photoArray = [];
//                var length = data.length;
//                for (var i =0; i<length; i++){
//                    // 这里遍历数据插入
//                    /*var img=$("<img />").attr('src', photo);
//                    $("#showImg").append(img);*/
              
                  // result variable to hold final result.
                  var result = "";
                  // make final result string to display.
                  data.foreach(function(eachItem){
                    result += "<img src=" + eachItem.photo + ">" + "</img> <br />";
                  });
                  
                  // append result variable to div by id name is resultDisplay.
                  $("#resultDisplay").append(result);
               }     
            });
        });
    });
});
</script>
</body>
</html>
